@use "../_share/_vars/colors";
@use "../_share/_partials";

@mixin scrollbar($thumb-color, $track-color) {
	$webkit-width: 10px;

	scrollbar-width: auto;
	scrollbar-color: $thumb-color $track-color;
	color: $thumb-color;
	transition-property: color, scrollbar-color;
	transition-duration: .35s;
	transition-timing-function: ease-out;

	@media only screen and (min-width: 1920px) {
		scrollbar-width: thin;
	}

	&::-webkit-scrollbar {
		width: $webkit-width;
	}

	&::-webkit-scrollbar-track {
		background: $track-color;
	}

	&::-webkit-scrollbar-thumb {
		box-shadow: inset 0 0 0 $webkit-width;
	}
}

.explorer {
	overflow: hidden;
	width: 435px;
	height: 100vh;
	box-sizing: border-box;
	color: colors.$aside-text-light;
	background: colors.$aside-secondary;
	display: flex;
	justify-content: start;
	flex-direction: column;

	._btn {
		@include partials.button;
	}

	$initial-height: 45px;

	&__item {
		overflow: hidden;
		display: grid;
		height: $initial-height;
		grid-template-rows: $initial-height 1fr;
		transition: flex .3s ease-out;

		&:not(:first-of-type) {
			margin-top: 3px;
		}
	}

	&__label {
		width: 100%;
		padding: 0 20px;
		box-sizing: border-box;
		height: $initial-height;
		display: flex;
		align-items: center;
		font-size: 22px;
		background: colors.$aside-main;
		cursor: pointer; // s-resize;

		span {
			margin-right: auto;
			user-select: none;
		}

		&::after {
			content: "";
			width: 17px;
			height: 15px;
			margin-left: 20px;
			transition-duration: .2s;
			transition-timing-function: ease-out;
			transition-property: transform, opacity;
			background: no-repeat url("./_icon.svg");
		}
	}

	&__space {
		$v-pad: 25px;
		$gap: 15px;

		overflow-y: scroll;
		height: 100%;
		padding: $v-pad;
		display: grid;
		align-content: start;
		gap: $gap;
		box-sizing: border-box;

		@include scrollbar(
			colors.$aside-main,
			colors.$aside-main
		);

		&:hover {
			@include scrollbar(
				colors.$aside-thumb,
				colors.$aside-main
			);
		}

		&::after {
			content: "";
			width: 100%;
			height: $v-pad - $gap;
		}
	}

	/* Interaction */

	&__item._js-active {
		flex-grow: 1;
	}

	&__item._js-active &__label::after {
		opacity: 0.5;
		transform: rotate(-90deg);
	}
}
