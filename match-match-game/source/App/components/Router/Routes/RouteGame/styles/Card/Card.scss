@use "../../../../../../_share/_styles/_vars/colors";
@use "../../../../../../_share/_styles/_vars/radius";

.card {
    width: min(100%, 200px);
    height: min(100%, 200px);
    position: relative;
    box-sizing: border-box;
    color: colors.$game-secondary;
    border-radius: radius.$sm;
    perspective: 1000px;

    /* &__inner */
    & > div {
        width: 100%;
        height: 100%;
        will-change: transform;
        transform-style: preserve-3d;
        background: colors.$game-main;
        transition: transform .8s;
        transform: rotateY(0);
    }

    /* &__front, &__back */
    & > div::before,
    & > div::after {
        transform: rotateY(0);
        content: "";
        position: absolute;
        box-sizing: border-box;
        width: 100%;
        height: 100%;
        display: grid;
        place-items: center;
        backface-visibility: hidden;
    }

    /* &__front */
    & > div::before {
        font-size: 110px;
        user-select: none;
        background: center / auto 60% no-repeat;
        background-image: url("./question.svg");
    }

    /* &__back */
    & > div::after {
        padding: 5px;
        transform: rotateY(180deg);
    }

    img {
        width: 100%;
        padding: 5px;
        box-sizing: border-box;
        position: absolute;
        object-fit: cover;
        transform: rotateY(180deg);
        backface-visibility: hidden;
    }

    &._js-flipped {
        & > div {
            transform: rotateY(180deg);
        }
    }

    &._js-appear {
        & > div {
            animation: appear .8s;
        }
        @keyframes appear {
            from {
                transform: rotateY(180deg);
            }
            to {
                transform: rotateY(0);
            }
        }
    }

    &._js-success,
    &._js-error {
        border: 2px solid transparent;
        animation: 2s ease-out;
    }

    &._js-success {
        border-color: colors.$success;
        animation-name: border-success;
        @keyframes border-success {
            to { border-color: colors.$success }
        }
    }

    &._js-error {
        animation-name: border-error;
        @keyframes border-error {
            50% { border-color: colors.$danger }
            100% { border-color: transparent }
        }
    }

    // /* Active */
    // // &:hover > div {
    // //     transform: rotateY(180deg);
    // // }
}
