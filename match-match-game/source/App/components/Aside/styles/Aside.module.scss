@use '../../../_share/_styles/_vars/colors';
@use '../../../_share/_styles/_partials';

.explorer {
    $initial-height: 45px;
    $duration: 0.6s;

    width: 100%;
    height: 100%;
    width: 435px;
    height: calc(100vh - 90px);

    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: start;
    box-sizing: border-box;
    color: colors.$aside-text-light;
    background: colors.$aside-secondary;

    transition: transform $duration, width $duration $duration;

    ._btn {
        @include partials.button;
    }

    &__item {
        display: grid;
        grid-template-rows: $initial-height 1fr;
        height: $initial-height;
        overflow: hidden;
        transition: flex 0.3s ease-out;

        &:not(:first-of-type) {
            margin-top: 3px;
        }
    }

    &__label {
        align-items: center;
        background: colors.$aside-main;
        box-sizing: border-box;
        // cursor: s-resize;
        cursor: pointer;
        display: flex;
        font-size: 22px;
        height: $initial-height;
        padding: 0 20px;
        width: 100%;

        span {
            margin-right: auto;
            user-select: none;
        }

        &::after {
            background: no-repeat url('./icon.svg');
            content: '';
            height: 15px;
            margin-left: 20px;
            transition-duration: 0.2s;
            transition-property: transform, opacity;
            transition-timing-function: ease-out;
            width: 17px;
        }
    }

    &__space {
        $v-pad: 30px;
        $gap: 15px;

        @include partials.scrollbar(colors.$aside-track, colors.$aside-track);
        align-content: start;
        box-sizing: border-box;
        display: grid;
        gap: $gap;
        height: 100%;

        overflow-y: overlay;
        padding: $v-pad;

        @supports (-moz-appearance: none) {
            overflow-y: scroll;
            padding: $v-pad $v-pad - 15px $v-pad $v-pad;
            @media only screen and (min-width: 3500px) {
                padding: $v-pad $v-pad - 25px $v-pad $v-pad;
            }
        }

        &:hover {
            @include partials.scrollbar(colors.$aside-thumb, colors.$aside-track);
        }

        &::after {
            content: '';
            height: $v-pad - $gap;
            width: 100%;
        }
    }

    /* Interaction */

    &__item._js-active {
        flex-grow: 1;
    }

    &__item._js-active &__label::after {
        opacity: 0.5;
        transform: rotate(-90deg);
    }

    &._hide {
        transform: translateX(100%);
        width: 0;
    }

    @keyframes hide {
        to {
            transform: translate(100%);
        }
    }
}
